<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core">
    
    <h:outputScript>
        // Track if notification panel was explicitly opened by user clicking bell
        var notificationPanelExplicitlyOpened = false;
        var notificationPanelUserClicked = false; // Track if user actually clicked the bell
        
        function toggleNotificationPanelUI() {
            // Mark that user clicked the bell
            notificationPanelUserClicked = true;
            notificationPanelExplicitlyOpened = true;
            
            // AJAX s·∫Ω t·ª± ƒë·ªông update panel, function n√†y ch·ªâ ƒë·ªÉ ƒë·∫£m b·∫£o UI responsive
            setTimeout(function() {
                var panel = document.getElementById('headerNotificationPanel');
                if (panel) {
                    // Only show if user clicked
                    if (notificationPanelUserClicked) {
                        panel.style.display = 'block';
                        notificationPanelExplicitlyOpened = true;
                    } else {
                        panel.style.display = 'none';
                        notificationPanelExplicitlyOpened = false;
                    }
                }
            }, 50);
        }
        
        // Ensure panel starts closed and stays closed unless user clicks
        (function initPanel() {
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    var panel = document.getElementById('headerNotificationPanel');
                    if (panel) {
                        panel.style.display = 'none';
                        notificationPanelExplicitlyOpened = false;
                        notificationPanelUserClicked = false;
                    }
                });
            } else {
                var panel = document.getElementById('headerNotificationPanel');
                if (panel) {
                    panel.style.display = 'none';
                    notificationPanelExplicitlyOpened = false;
                    notificationPanelUserClicked = false;
                }
            }
        })();
        
        // Close notification panel when other AJAX actions complete (except notification-related)
        if (typeof jsf !== 'undefined' &amp;&amp; jsf.ajax) {
            var originalRequest = jsf.ajax.request;
            jsf.ajax.request = function(source, event, options) {
                // Check if this is a notification-related action
                var sourceId = source ? (source.id || '') : '';
                var isNotificationAction = sourceId.indexOf('headerNotificationForm') !== -1 || 
                    sourceId.indexOf('notificationItem_') !== -1 ||
                    sourceId.indexOf('markUnreadBtn_') !== -1 ||
                    sourceId.indexOf('notificationListForm') !== -1 ||
                    sourceId.indexOf('notificationBellIcon') !== -1;
                
                // If NOT a notification action, close panel and reset flags
                if (!isNotificationAction) {
                    var notificationPanel = document.getElementById('headerNotificationPanel');
                    if (notificationPanel) {
                        notificationPanel.style.display = 'none';
                    }
                    notificationPanelExplicitlyOpened = false;
                    notificationPanelUserClicked = false;
                }
                
                return originalRequest.apply(this, arguments);
            };
        }
        
        // Also listen for AJAX complete events - ALWAYS close panel unless it's notification-related
        if (typeof jsf !== 'undefined' &amp;&amp; jsf.ajax) {
            jsf.ajax.addOnEvent(function(data) {
                if (data.status === 'success') {
                    // Get the source element that triggered this AJAX
                    var sourceElement = data.source || null;
                    var sourceId = sourceElement ? (sourceElement.id || '') : '';
                    
                    // Check if this is a notification-related action
                    var isNotificationAction = sourceId.indexOf('headerNotificationForm') !== -1 || 
                        sourceId.indexOf('notificationItem_') !== -1 ||
                        sourceId.indexOf('markUnreadBtn_') !== -1 ||
                        sourceId.indexOf('notificationListForm') !== -1 ||
                        sourceId.indexOf('notificationBellButton') !== -1 ||
                        sourceId.indexOf('notificationBellIcon') !== -1;
                    
                    // If NOT a notification action, ALWAYS close the panel
                    if (!isNotificationAction) {
                        var notificationPanel = document.getElementById('headerNotificationPanel');
                        if (notificationPanel) {
                            notificationPanel.style.display = 'none';
                        }
                        notificationPanelExplicitlyOpened = false;
                        notificationPanelUserClicked = false;
                    }
                }
            });
        }
        
        // Reset flag when clicking outside notification area
        document.addEventListener('click', function(event) {
            var notificationWrapper = document.querySelector('.notification-wrapper');
            var notificationPanel = document.getElementById('headerNotificationPanel');
            var bellButton = document.getElementById('notificationBellButton');
            
            // If clicking outside notification area, close panel and reset flags
            if (notificationWrapper &amp;&amp; !notificationWrapper.contains(event.target) &amp;&amp;
                notificationPanel &amp;&amp; !notificationPanel.contains(event.target) &amp;&amp;
                bellButton &amp;&amp; !bellButton.contains(event.target)) {
                if (notificationPanel) {
                    notificationPanel.style.display = 'none';
                }
                notificationPanelUserClicked = false;
                notificationPanelExplicitlyOpened = false;
            }
        }, true);
        
        // Force close panel on page load and after any non-notification AJAX
        window.addEventListener('load', function() {
            var panel = document.getElementById('headerNotificationPanel');
            if (panel) {
                panel.style.display = 'none';
                notificationPanelExplicitlyOpened = false;
                notificationPanelUserClicked = false;
            }
        });
        
        function toggleUserDropdown() {
            var wrapper = document.querySelector('.user-info-wrapper');
            var dropdown = document.getElementById('userDropdown');
            
            // ƒê√≥ng notification panel n·∫øu ƒëang m·ªü
            var notificationPanel = document.getElementById('notificationPanel');
            if (notificationPanel &amp;&amp; notificationPanel.style.display === 'block') {
                notificationPanel.style.display = 'none';
            }
            
            if (wrapper) {
                wrapper.classList.toggle('active');
                
                // T√≠nh to√°n v√† hi·ªÉn th·ªã dropdown khi m·ªü
                if (wrapper.classList.contains('active')) {
                    if (dropdown) {
                        var userInfo = wrapper.querySelector('.user-info');
                        if (userInfo) {
                            var rect = userInfo.getBoundingClientRect();
                            dropdown.style.top = (rect.bottom + 8) + 'px';
                            dropdown.style.right = (window.innerWidth - rect.right) + 'px';
                            dropdown.style.display = 'block';
                        }
                    }
                } else {
                    // ·∫®n dropdown khi ƒë√≥ng
                    if (dropdown) {
                        dropdown.style.display = 'none';
                    }
                }
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Di chuy·ªÉn dropdown ra ngo√†i body ƒë·ªÉ tr√°nh b·ªã header che
            var dd = document.getElementById('userDropdown');
            if (dd) {
                document.body.appendChild(dd);
            }
            
            document.addEventListener('click', function(event) {
                var wrapper = document.querySelector('.user-info-wrapper');
                var dropdown = document.getElementById('userDropdown');
                var notificationWrapper = document.querySelector('.notification-wrapper');
                var notificationPanel = document.getElementById('notificationPanel');
                
                // ƒê√≥ng user dropdown n·∫øu click b√™n ngo√†i
                if (wrapper) {
                    if (!wrapper.contains(event.target)) {
                        if (dropdown) {
                            if (!dropdown.contains(event.target)) {
                                wrapper.classList.remove('active');
                                dropdown.style.display = 'none';
                            }
                        } else {
                            wrapper.classList.remove('active');
                        }
                    }
                }
                
                // ƒê√≥ng notification panel n·∫øu click b√™n ngo√†i
                if (notificationWrapper) {
                    var notificationPanel = document.getElementById('headerNotificationPanel');
                    if (notificationPanel) {
                        if (!notificationWrapper.contains(event.target) &amp;&amp; !notificationPanel.contains(event.target)) {
                            notificationPanel.style.display = 'none';
                        }
                    }
                }
                
                // ƒê√≥ng notification panel khi click v√†o c√°c form kh√°c (tr·ª´ notification form)
                var clickedForm = event.target.closest('form');
                if (clickedForm &amp;&amp; clickedForm.id !== 'headerNotificationForm') {
                    var notificationPanel = document.getElementById('headerNotificationPanel');
                    if (notificationPanel &amp;&amp; notificationPanel.style.display === 'block') {
                        notificationPanel.style.display = 'none';
                    }
                }
            });
            
            var dropdownItems = document.querySelectorAll('.dropdown-item');
            dropdownItems.forEach(function(item) {
                item.addEventListener('click', function() {
                    var wrapper = document.querySelector('.user-info-wrapper');
                    var dropdown = document.getElementById('userDropdown');
                    if (wrapper) {
                        wrapper.classList.remove('active');
                    }
                    if (dropdown) {
                        dropdown.style.display = 'none';
                    }
                });
            });
        });
    </h:outputScript>
    
    <div class="header-bar">
        <!-- G√≥c tr√°i: T√™n project -->
        <div class="header-title">
            üõí SunDay
        </div>
        
        <!-- G√≥c ph·∫£i: Notification Bell + Avatar + Username + Dropdown -->
        <div style="display: flex; align-items: center; gap: 12px; justify-content: flex-end; flex-shrink: 0;">
            <!-- Notification Bell Icon -->
            <ui:fragment rendered="#{loginMBean.currentUser != null}">
                <h:form id="headerNotificationForm" prependId="false" style="display: inline;">
                    <div class="notification-wrapper" style="position: relative; display: inline-flex; align-items: center; justify-content: center; margin: 0; padding: 0;">
                        <h:commandButton id="notificationBellButton"
                                         onclick="event.stopPropagation(); notificationPanelUserClicked = true; notificationPanelExplicitlyOpened = true; setTimeout(function(){ toggleNotificationPanelUI(); }, 100);"
                                         action="#{notificationViewMBean.toggleNotificationPanel()}"
                                         style="position: relative; cursor: pointer; padding: 0; margin: 0; width: 40px; height: 40px; border-radius: 50%; transition: all 0.3s; display: inline-flex; align-items: center; justify-content: center; background: transparent; border: none; color: white; font-size: 20px; line-height: 1; vertical-align: middle; flex-shrink: 0;"
                                         onmouseover="this.style.background='rgba(255,255,255,0.1)'; this.style.transform='scale(1.1)';"
                                         onmouseout="this.style.background='transparent'; this.style.transform='scale(1)';">
                            <span id="notificationBellIcon" style="display: inline-flex; align-items: center; justify-content: center; width: 100%; height: 100%; transition: transform 0.3s; #{notificationViewMBean.unreadCount > 0 ? 'animation: bellPulse 2s infinite;' : ''}">üîî</span>
                            <h:panelGroup rendered="#{notificationViewMBean.unreadCount > 0}">
                                <span id="notificationBadge" style="position: absolute; top: -2px; right: -2px; background: #ef4444; color: white; border-radius: 50%; min-width: 18px; height: 18px; padding: 0 4px; display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: bold; border: 2px solid #1e3a5f; pointer-events: none; box-shadow: 0 2px 4px rgba(0,0,0,0.2); animation: badgePulse 1.5s infinite; z-index: 10;">
                                    #{notificationViewMBean.unreadCount > 99 ? '99+' : notificationViewMBean.unreadCount}
                                </span>
                            </h:panelGroup>
                            <f:ajax render="headerNotificationPanel notificationBadge notificationHeaderCount" execute="@this" />
                        </h:commandButton>
                        
                        <h:outputStylesheet>
                            @keyframes bellPulse {
                                0%, 100% { transform: rotate(0deg); }
                                10%, 30% { transform: rotate(-10deg); }
                                20%, 40% { transform: rotate(10deg); }
                                50% { transform: rotate(0deg); }
                            }
                            
                            @keyframes badgePulse {
                                0%, 100% { transform: scale(1); }
                                50% { transform: scale(1.1); }
                            }
                        </h:outputStylesheet>
                    
                    <!-- Notification Dropdown Panel -->
                    <h:panelGroup id="headerNotificationPanel" 
                         class="notification-panel"
                         style="display: none; position: fixed; top: 60px; right: 20px; width: 520px; max-height: 650px; background: #ffffff; border-radius: 16px; box-shadow: 0 12px 40px rgba(0,0,0,0.2), 0 0 0 1px rgba(0,0,0,0.05); z-index: 10000; overflow: hidden; animation: slideDown 0.3s ease-out;">
                        <div style="padding: 20px; border-bottom: 2px solid #e9ecef; background: linear-gradient(135deg, #3f72af 0%, #2d5a8f 100%); color: white; position: sticky; top: 0; z-index: 10;">
                            <h3 style="margin: 0; font-size: 20px; font-weight: 700; display: flex; align-items: center; gap: 10px; letter-spacing: 0.3px;">
                                <span style="font-size: 24px;">üîî</span>
                                <span>Th√¥ng b√°o</span>
                                <h:panelGroup id="notificationHeaderCount" rendered="#{notificationViewMBean.unreadCount > 0}">
                                    <span style="margin-left: auto; font-size: 13px; background: rgba(255,255,255,0.25); padding: 6px 12px; border-radius: 20px; font-weight: 700; border: 1px solid rgba(255,255,255,0.3);">
                                        #{notificationViewMBean.unreadCount} #{notificationViewMBean.unreadCount == 1 ? 'm·ªõi' : 'm·ªõi'}
                                    </span>
                                </h:panelGroup>
                            </h3>
                        </div>
                        
                        <h:outputStylesheet>
                            @keyframes slideDown {
                                from {
                                    opacity: 0;
                                    transform: translateY(-10px);
                                }
                                to {
                                    opacity: 1;
                                    transform: translateY(0);
                                }
                            }
                        </h:outputStylesheet>
                        <h:form id="notificationListForm" prependId="false" style="display: block;">
                            <div style="max-height: 580px; overflow-y: auto; background: #fafbfc;">
                                <ui:repeat value="#{notificationViewMBean.userNotifications}" var="target" varStatus="status">
                                    <!-- Unread notification - clickable to mark as read -->
                                    <h:commandButton id="notificationItem_#{status.index}"
                                                     action="#{notificationViewMBean.markAsRead(target)}"
                                                     style="display: block; width: 100%; padding: 18px 20px; border: none; border-bottom: 1px solid #e5e7eb; transition: all 0.2s; cursor: pointer; position: relative; text-align: left; background: linear-gradient(90deg, #eff6ff 0%, #ffffff 10%); border-left: 4px solid #3f72af;"
                                                     onmouseover="this.style.background='linear-gradient(90deg, #dbeafe 0%, #f0f9ff 10%)'; this.style.transform='translateX(2px)';"
                                                     onmouseout="this.style.background='linear-gradient(90deg, #eff6ff 0%, #ffffff 10%)'; this.style.transform='translateX(0)';"
                                                     rendered="#{notificationViewMBean.isUnread(target)}">
                                        <f:ajax render="headerNotificationPanel notificationBadge notificationHeaderCount notificationListForm" execute="@this" />
                                        <!-- Unread indicator dot -->
                                        <div style="position: absolute; top: 20px; right: 20px; width: 10px; height: 10px; background: #3f72af; border-radius: 50%; z-index: 5; box-shadow: 0 0 0 3px rgba(63, 114, 175, 0.15);"></div>
                                        
                                        <div style="display: flex; gap: 14px;">
                                            <div style="flex-shrink: 0; width: 48px; height: 48px; background: linear-gradient(135deg, #3f72af 0%, #2d5a8f 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 22px; box-shadow: 0 4px 8px rgba(63, 114, 175, 0.25);">
                                                #{target.notificationID.type == 'PRODUCT_NEW' ? 'üÜï' : target.notificationID.type == 'PRODUCT_SALE' ? 'üí∞' : target.notificationID.type == 'PROMOTION' ? 'üéÅ' : target.notificationID.type == 'SYSTEM' ? '‚öôÔ∏è' : 'üì¢'}
                                            </div>
                                            <div style="flex: 1; min-width: 0;">
                                                <div style="font-weight: 700; color: #1e293b; margin-bottom: 6px; font-size: 15px; display: flex; align-items: center; gap: 8px; line-height: 1.3;">
                                                    <span>#{target.notificationID.title}</span>
                                                    <span style="background: #3f72af; color: white; font-size: 10px; padding: 3px 8px; border-radius: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;">M·ªõi</span>
                                                </div>
                                                <!-- Product Image -->
                                                <h:panelGroup rendered="#{notificationViewMBean.getProductImageUrl(target.notificationID) != null}">
                                                    <div style="margin: 12px 0;">
                                                        <img src="#{notificationViewMBean.getProductImageUrl(target.notificationID)}" 
                                                             alt="Product Image"
                                                             style="max-width: 100%; max-height: 200px; width: 100%; border-radius: 10px; border: 2px solid #e5e7eb; object-fit: cover; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"
                                                             onerror="this.style.display='none';" />
                                                    </div>
                                                </h:panelGroup>
                                                <div style="color: #334155; font-size: 14px; line-height: 1.6; margin-bottom: 10px; white-space: pre-wrap; word-wrap: break-word; font-weight: 500;">
                                                    #{notificationViewMBean.getFormattedContent(target.notificationID)}
                                                </div>
                                                <div style="font-size: 12px; color: #64748b; display: flex; align-items: center; gap: 6px; font-weight: 500;">
                                                    <span style="font-size: 14px;">üïê</span>
                                                    <span>#{notificationViewMBean.formatNotificationTime(target.notificationID.createdAt)}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </h:commandButton>
                                    
                                    <!-- Read notification - not clickable, just display -->
                                    <div style="display: block; width: 100%; padding: 18px 20px; border: none; border-bottom: 1px solid #e5e7eb; transition: all 0.2s; cursor: default; position: relative; text-align: left; background: #ffffff; border-left: 4px solid transparent;"
                                         onmouseover="this.style.background='#f8f9fa'; this.style.transform='translateX(2px)';"
                                         onmouseout="this.style.background='#ffffff'; this.style.transform='translateX(0)';"
                                         rendered="#{!notificationViewMBean.isUnread(target)}">
                                        <div style="display: flex; gap: 14px;">
                                            <div style="flex-shrink: 0; width: 48px; height: 48px; background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 22px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); opacity: 0.7;">
                                                #{target.notificationID.type == 'PRODUCT_NEW' ? 'üÜï' : target.notificationID.type == 'PRODUCT_SALE' ? 'üí∞' : target.notificationID.type == 'PROMOTION' ? 'üéÅ' : target.notificationID.type == 'SYSTEM' ? '‚öôÔ∏è' : 'üì¢'}
                                            </div>
                                            <div style="flex: 1; min-width: 0;">
                                                <div style="font-weight: 600; color: #475569; margin-bottom: 6px; font-size: 15px; display: flex; align-items: center; gap: 8px; line-height: 1.3;">
                                                    #{target.notificationID.title}
                                                </div>
                                                <!-- Product Image -->
                                                <h:panelGroup rendered="#{notificationViewMBean.getProductImageUrl(target.notificationID) != null}">
                                                    <div style="margin: 12px 0;">
                                                        <img src="#{notificationViewMBean.getProductImageUrl(target.notificationID)}" 
                                                             alt="Product Image"
                                                             style="max-width: 100%; max-height: 200px; width: 100%; border-radius: 10px; border: 2px solid #e5e7eb; object-fit: cover; box-shadow: 0 2px 4px rgba(0,0,0,0.08); opacity: 0.85;"
                                                             onerror="this.style.display='none';" />
                                                    </div>
                                                </h:panelGroup>
                                                <div style="color: #64748b; font-size: 14px; line-height: 1.6; margin-bottom: 10px; white-space: pre-wrap; word-wrap: break-word; font-weight: 400;">
                                                    #{notificationViewMBean.getFormattedContent(target.notificationID)}
                                                </div>
                                                <div style="font-size: 12px; color: #94a3b8; display: flex; align-items: center; justify-content: space-between; gap: 4px;">
                                                    <div style="display: flex; align-items: center; gap: 6px; font-weight: 500;">
                                                        <span style="font-size: 14px;">üïê</span>
                                                        <span>#{notificationViewMBean.formatNotificationTime(target.notificationID.createdAt)}</span>
                                                    </div>
                                                    <!-- Mark as unread button -->
                                                    <h:commandButton id="markUnreadBtn_#{status.index}" 
                                                                     value="üìå ƒê√°nh d·∫•u ch∆∞a ƒë·ªçc" 
                                                                     action="#{notificationViewMBean.markAsUnread(target)}"
                                                                     title="ƒê√°nh d·∫•u ch∆∞a ƒë·ªçc"
                                                                     style="background: #f1f5f9; border: 1px solid #e2e8f0; cursor: pointer; font-size: 11px; padding: 4px 10px; border-radius: 6px; color: #64748b; transition: all 0.2s; z-index: 10; position: relative; font-weight: 600;"
                                                                     onmouseover="this.style.background='#e2e8f0'; this.style.color='#475569'; this.style.borderColor='#cbd5e1';"
                                                                     onmouseout="this.style.background='#f1f5f9'; this.style.color='#64748b'; this.style.borderColor='#e2e8f0';"
                                                                     onclick="event.stopPropagation();">
                                                        <f:ajax render="headerNotificationPanel notificationBadge notificationHeaderCount notificationListForm" execute="@this" />
                                                    </h:commandButton>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ui:repeat>
                                
                                <h:panelGroup rendered="#{empty notificationViewMBean.userNotifications}">
                                    <div style="padding: 60px 30px; text-align: center; color: #94a3b8; background: #ffffff;">
                                        <div style="font-size: 64px; margin-bottom: 16px; opacity: 0.4;">üîî</div>
                                        <div style="font-size: 16px; font-weight: 600; margin-bottom: 6px; color: #64748b;">Ch∆∞a c√≥ th√¥ng b√°o</div>
                                        <div style="font-size: 13px; opacity: 0.7; color: #94a3b8;">Th√¥ng b√°o m·ªõi s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y</div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </h:form>
                    </h:panelGroup>
                    </div>
                </h:form>
            </ui:fragment>
            
            <!-- Th√¥ng tin user ƒë√£ ƒëƒÉng nh·∫≠p -->
            <ui:fragment rendered="#{loginMBean.currentUser != null}">
                <div class="user-info-wrapper">
                    <div class="user-info" onclick="toggleUserDropdown()" style="cursor: pointer;">
                        <!-- Avatar tr√≤n -->
                        <img src="#{loginMBean.currentUserAvatarUrl}"
                             alt="Avatar"
                             class="user-avatar-img"
                             style="display: #{not empty loginMBean.currentUserAvatarUrl ? 'block' : 'none'};"
                             onerror="this.style.display='none'; var fallback = this.nextElementSibling; if(fallback) fallback.style.display='flex';" />
                        <!-- Fallback icon n·∫øu kh√¥ng c√≥ avatar -->
                        <div class="user-avatar" style="display: #{empty loginMBean.currentUserAvatarUrl ? 'flex' : 'none'};">
                            üë§
                        </div>
                        <div class="user-details">
                            <div class="user-name">#{loginMBean.currentUser.fullName != null ? loginMBean.currentUser.fullName : loginMBean.currentUser.userName}</div>
                            <div class="user-role">
                                #{loginMBean.currentUser.roleID != null ? loginMBean.currentUser.roleID.roleName : 'User'}
                            </div>
                        </div>
                        <span class="dropdown-arrow">‚ñº</span>
                    </div>
                    
                    <!-- Dropdown Menu -->
                    <div id="userDropdown" class="user-dropdown">
                        <h:link outcome="/profiledetail" value="üë§ Profile" styleClass="dropdown-item" />
                        <ui:fragment rendered="#{loginMBean.isAdmin()}">
                            <h:link outcome="/user" value="‚öôÔ∏è User Management" styleClass="dropdown-item" />
                        </ui:fragment>
                        <div class="dropdown-divider"></div>
                        <h:form style="display: inline;">
                            <h:commandLink action="#{loginMBean.logout()}" value="üö™ Logout" styleClass="dropdown-item dropdown-item-logout" />
                        </h:form>
                    </div>
                </div>
            </ui:fragment>
            
            <!-- Show when not logged in and NOT on login/register page -->
            <ui:fragment rendered="#{loginMBean.currentUser == null and !loginMBean.isLoginOrRegisterPage()}">
                <h:link outcome="/login" value="üîê Login" style="color: white; text-decoration: none; padding: 6px 14px; border: 1px solid white; border-radius: 4px; transition: all 0.3s; font-size: 14px;" />
                <h:link outcome="/register" value="üìù Register" style="color: white; text-decoration: none; padding: 6px 14px; border: 1px solid white; border-radius: 4px; transition: all 0.3s; font-size: 14px;" />
            </ui:fragment>
        </div>
    </div>
</ui:composition>
